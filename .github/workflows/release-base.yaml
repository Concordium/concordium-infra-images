on:
  push:
    tags:
      - base/*

jobs:
  release-base-image:
    uses: concordium/.github/.github/workflows/docker-release-workflow.yaml@main
    with:
      SERVICE_NAME: "base"
      BUILD_ARGS: |
        RUST_VERSION=1.73.0
        GHC_VERSION=9.6.4
        PROTOC_VERSION=3.15.3
        FLATBUFFERS_TAG=v22.12.06
        NVM_SH_VERSION=v0.37.2
        CMAKE_VERSION=3.25.1
      DOCKER_FILE: docker/base.Dockerfile
      VERSION: "rust1.73-ghc9.6.4"
    secrets: inherit
